(function(modules) {
    function webpackJsonpCallback(data) {
        var chunkIds = data[0];
        var moreModules = data[1];
        var executeModules = data[2];
        var moduleId, chunkId, i = 0, resolves = [];
        for (;i < chunkIds.length; i++) {
            chunkId = chunkIds[i];
            if (installedChunks[chunkId]) resolves.push(installedChunks[chunkId][0]);
            installedChunks[chunkId] = 0;
        }
        for (moduleId in moreModules) if (Object.prototype.hasOwnProperty.call(moreModules, moduleId)) modules[moduleId] = moreModules[moduleId];
        if (parentJsonpFunction) parentJsonpFunction(data);
        while (resolves.length) resolves.shift()();
        deferredModules.push.apply(deferredModules, executeModules || []);
        return checkDeferredModules();
    }
    function checkDeferredModules() {
        var result;
        for (var i = 0; i < deferredModules.length; i++) {
            var deferredModule = deferredModules[i];
            var fulfilled = true;
            for (var j = 1; j < deferredModule.length; j++) {
                var depId = deferredModule[j];
                if (0 !== installedChunks[depId]) fulfilled = false;
            }
            if (fulfilled) {
                deferredModules.splice(i--, 1);
                result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
            }
        }
        return result;
    }
    var installedModules = {};
    var installedChunks = {
        main: 0
    };
    var deferredModules = [];
    function __webpack_require__(moduleId) {
        if (installedModules[moduleId]) return installedModules[moduleId].exports;
        var module = installedModules[moduleId] = {
            i: moduleId,
            l: false,
            exports: {}
        };
        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
        module.l = true;
        return module.exports;
    }
    __webpack_require__.m = modules;
    __webpack_require__.c = installedModules;
    __webpack_require__.d = function(exports, name, getter) {
        if (!__webpack_require__.o(exports, name)) Object.defineProperty(exports, name, {
            enumerable: true,
            get: getter
        });
    };
    __webpack_require__.r = function(exports) {
        if ("undefined" !== typeof Symbol && Symbol.toStringTag) Object.defineProperty(exports, Symbol.toStringTag, {
            value: "Module"
        });
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
    };
    __webpack_require__.t = function(value, mode) {
        if (1 & mode) value = __webpack_require__(value);
        if (8 & mode) return value;
        if (4 & mode && "object" === typeof value && value && value.__esModule) return value;
        var ns = Object.create(null);
        __webpack_require__.r(ns);
        Object.defineProperty(ns, "default", {
            enumerable: true,
            value: value
        });
        if (2 & mode && "string" != typeof value) for (var key in value) __webpack_require__.d(ns, key, function(key) {
            return value[key];
        }.bind(null, key));
        return ns;
    };
    __webpack_require__.n = function(module) {
        var getter = module && module.__esModule ? function() {
            return module["default"];
        } : function() {
            return module;
        };
        __webpack_require__.d(getter, "a", getter);
        return getter;
    };
    __webpack_require__.o = function(object, property) {
        return Object.prototype.hasOwnProperty.call(object, property);
    };
    __webpack_require__.p = "";
    var jsonpArray = window["webpackJsonp"] = window["webpackJsonp"] || [];
    var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
    jsonpArray.push = webpackJsonpCallback;
    jsonpArray = jsonpArray.slice();
    for (var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
    var parentJsonpFunction = oldJsonpFunction;
    deferredModules.push([ "./assets/js/main.js", "vendors~main" ]);
    return checkDeferredModules();
})({
    "./assets/js/appsettings.js": function(module, __webpack_exports__, __webpack_require__) {
        "use strict";
        eval("const appconfig = () => {\n  // let _apiserver = 'http://localhost:59015';\n  // let _dnnURL = 'http://localdev.kivdev.se';\n  let _apiserver = 'http://dev1.barnensbibliotek.se:8080';\n  let _dnnURL = 'http://dev1.barnensbibliotek.se'; //let _apiserver = \"http://dev1.barnensbibliotek.se:8080\";\n  //let _dnnURL = \"http://nytt.barnensbibliotek.se\";\n  //let _apiserver = \"https://www2.barnensbibliotek.se\";\n  //let _dnnURL = \"https://www.barnensbibliotek.se\";\n\n  let _devkey = 'alf';\n\n  let _apidevkeyend = '/devkey/' + _devkey + '/?type=json&callback=?';\n\n  let _localOrServerURL = '';\n  let _htmltemplateURL = '../../../htmlTemplate/'; // Boklistor START\n  //// HandlebarTemplate (skickar tillbaka objectet bara att lägga till data för templaten)\n\n  let _hb_booklist_template = __webpack_require__(/*! ../../htmlTemplate/tpl_bookListItem.hbs */ \"./htmlTemplate/tpl_bookListItem.hbs\"); //// api\n\n\n  let _fn_byCategoryId = function _fn_byCategoryId(catid, userid) {\n    return _apiserver + '/Api_v3.1/katalogen/typ/cat/searchval/' + catid + '/val/' + userid + _apidevkeyend;\n  };\n\n  let _fn_byAmnenId = function _fn_byAmnenId(amnid, userid) {\n    return _apiserver + '/Api_v3.1/katalogen/typ/amne/searchval/' + amnid + '/val/' + userid + _apidevkeyend;\n  };\n\n  let _fn_byfritext = function _fn_byfritext() {\n    return _apiserver + '/Api_v3.1/katalogen/typ/search/' + _apidevkeyend;\n  };\n\n  let _fn_autocomplete = function _fn_autocomplete(searchstr, antal) {\n    return _apiserver + '/Api_v3.1/katalogen/typ/auto/searchval/' + searchstr + '/val/' + antal + _apidevkeyend;\n  };\n\n  let _fn_laserjustnu = function _fn_laserjustnu(userid, bookid) {\n    return _apiserver + '/Api_v3.1/settings/cmdtyp/settings/uid/' + userid + '/setid/3/setval/' + bookid + _apidevkeyend;\n  };\n\n  return {\n    apiserver: _apiserver,\n    dnnURL: _dnnURL,\n    localOrServerURL: _localOrServerURL,\n    htmltemplateurl: _dnnURL + _htmltemplateURL,\n    devkey: _devkey,\n    handlebartemplate: {\n      hb_booklist_tmp: _hb_booklist_template\n    },\n    api: {\n      boklistor: {\n        boklistbyCatID: _fn_byCategoryId,\n        boklistbyAmneID: _fn_byAmnenId,\n        boklistbyFritext: _fn_byfritext\n      },\n      lasernu: _fn_laserjustnu,\n      autocomplete: {\n        getbyAuto: _fn_autocomplete\n      },\n      devkeyend: _apidevkeyend\n    },\n    tabid: {\n      krypin_skrivboken: '1430',\n      krypin_boktips: '1431',\n      krypin_boklistor: '1429',\n      krypin_start: '1435'\n    },\n    userinfo: {\n      userid: $('#barnensbiblCurrentUserid').html()\n    },\n    debug: 'false'\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (appconfig);\n\n//# sourceURL=webpack:///./assets/js/appsettings.js?");
    },
    "./assets/js/components/autocompleteHandler.js": function(module, __webpack_exports__, __webpack_require__) {
        "use strict";
        eval("/* harmony import */ var _service_apiServiceHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../service/apiServiceHandler */ \"./assets/js/service/apiServiceHandler.js\");\n/* harmony import */ var _appsettings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../appsettings */ \"./assets/js/appsettings.js\");\n\n // autocomplete funktion dokument: goodies.pixabay.com/javascript/auto-complete/demo.html\n\nconst autoCompleteHandler = () => {\n  let service = Object(_service_apiServiceHandler__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])();\n  let appconf = Object(_appsettings__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])();\n  let urlParams = {\n    shtyp: '0'\n  };\n\n  function init() {\n    let auto = new autoComplete({\n      selector: '#aj_bb_searchbox',\n      minChars: 3,\n      source: function source(term, suggest) {\n        term = fixautostr(term);\n\n        try {\n          let url = appconf.api.autocomplete.getbyAuto(term, 5);\n          let getdata = service.GetjsonAuto(url, function (sevicedata) {\n            let choices = sevicedata.BookList;\n            let suggestions = [];\n            let i;\n\n            for (i = 0; i < choices.length; i++) if (~(choices[i].Bookid + ' ' + choices[i].Title).toLowerCase().indexOf(term)) suggestions.push(choices[i]);\n\n            suggest(suggestions);\n          });\n        } catch (err) {}\n      },\n      renderItem: function renderItem(item, search) {\n        search = search.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n        var re = new RegExp('(' + search.split(' ').join('|') + ')', 'gi');\n        return '<div class=\"autocomplete-suggestion\" data-langname=\"' + item.Title + '\" data-lang=\"' + item.Bookid + '\" data-val=\"' + search + '\"><img src=\"' + item.Bookimg + '\"> ' + item.Title.replace(re, '<b>$1</b>') + '</div>';\n      },\n      onSelect: function onSelect(e, term, item) {\n        let $spinner = $('.bb_aj_spinner');\n        let searchstr = item.getAttribute('data-langname');\n        let userid = appconf.userinfo.userid;\n        $spinner.show();\n        urlParams.shtyp = 'freeserch'; // displayobj.checkToDisplay(urlParams);\n\n        $('#aj_bb_searchbox').val(searchstr);\n        $('#aj_bb_searchbtn').click().focus(); // blobj.fritextSearch(searchstr, userid, function(data) {\n        // \t$spinner.hide();\n        // \treturn false;\n        // });\n      }\n    });\n  }\n\n  function fixautostr(str) {\n    str = str.replace(/[\\\\#,+()$~%.'\":*<>{}]/g, '');\n    str = str.toLowerCase().trim();\n    str = $('<div>').text(str).html();\n    return str;\n  }\n\n  return {\n    initAuto: init\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (autoCompleteHandler);\n\n//# sourceURL=webpack:///./assets/js/components/autocompleteHandler.js?");
    },
    "./assets/js/components/booklisthandler.js": function(module, __webpack_exports__, __webpack_require__) {
        "use strict";
        eval('/* harmony import */ var _components_storagehandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/storagehandler */ "./assets/js/components/storagehandler.js");\n/* harmony import */ var _service_apiServiceHandler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../service/apiServiceHandler */ "./assets/js/service/apiServiceHandler.js");\n/* harmony import */ var _appsettings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../appsettings */ "./assets/js/appsettings.js");\n// let _ = require(\'lodash\');\n\n\n\n\nconst BooklistObj = () => {\n  let $group = \'\';\n\n  let _apiObj = Object(_service_apiServiceHandler__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"])();\n\n  let _appconfig = Object(_appsettings__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"])();\n\n  let _storeObj = Object(_components_storagehandler__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"])();\n\n  function bind() {\n    //find the elements group\n    $group = $(\'#aj_katalog_groupId\'); // document.getElementById(\'aj_katalog_group\');\n  }\n\n  function gethbTmpl(dataObj, callback) {\n    //debug lägg i appsettings.js\n    let templ = _appconfig.handlebartemplate.hb_booklist_tmp;\n    callback(templ(dataObj));\n  }\n\n  function serviceApi(url, callback) {\n    _apiObj.Getjson(url, function (data) {\n      gethbTmpl(data, function (ret) {\n        callback(ret);\n      });\n    });\n  }\n\n  function servicePostApi(url, data, callback) {\n    _apiObj.Postjson(url, data, function (data) {\n      gethbTmpl(data, function (ret) {\n        callback(ret);\n      });\n    });\n  }\n\n  function render(url, callback) {\n    bind(); //create a new element\n\n    const div = serviceApi(url, function (data) {\n      //refresh jPList content\n      //jplist.resetContent(function() {\n      //add element to the group\n      $group.html(data);\n      callback(true); //});\n    }); //\'<div data-jplist-item><div class="name">Andreas Josefsson</div></div><div data-jplist-item><div class="name">Ida-Stina Josefsson</div></div><div data-jplist-item><div class="name">Nils-Magnus Josefsson</div></div>                \';\n  }\n\n  function renderPost(url, postdata, callback) {\n    bind(); //create a new element\n\n    const div = servicePostApi(url, postdata, function (data) {\n      //refresh jPList content\n      //jplist.resetContent(function() {\n      //add element to the group\n      $group.html(data);\n      callback(true); //});\n    }); //\'<div data-jplist-item><div class="name">Andreas Josefsson</div></div><div data-jplist-item><div class="name">Ida-Stina Josefsson</div></div><div data-jplist-item><div class="name">Nils-Magnus Josefsson</div></div>                \';\n  } ///////////Publika funktioner/////////////////////\n\n\n  function fritextSearch(searchstr, userid, callback) {\n    //debug\n    let Postdata = {\n      Searchstr: searchstr,\n      userid: userid\n    };\n\n    let url = _appconfig.api.boklistor.boklistbyFritext();\n\n    _storeObj.resetstorage();\n\n    renderPost(url, Postdata, function () {\n      // jplist.resetContent(function() {\n      callback(); // });\n    });\n  }\n\n  function catSearch(catid, userid, callback) {\n    userid = _hanteraUserid(userid); //debug lägg i appsettings.js\n\n    let url = _appconfig.api.boklistor.boklistbyCatID(catid, userid);\n\n    _storeObj.resetstorage(); //reset ALL controls\n\n\n    render(url, function () {\n      // jplist.resetContent(function() {\n      callback(); // });\n    });\n  }\n\n  function amnSearch(amnid, userid, callback) {\n    userid = _hanteraUserid(userid); //debug lägg i appsettings.js\n\n    let url = _appconfig.api.boklistor.boklistbyAmneID(amnid, userid);\n\n    _storeObj.resetstorage();\n\n    render(url, function () {\n      // jplist.resetContent(function() {\n      callback(); // });\n    });\n  }\n\n  function autocomplete(searchstr, callback) {\n    userid = _hanteraUserid(userid); //debug lägg i appsettings.js\n\n    let url = _appconfig.api.autocomplete.getbyAuto(searchstr); // _storeObj.resetstorage();\n\n\n    render(url, function () {\n      // jplist.resetContent(function() {\n      callback(); // });\n    });\n  }\n\n  function laserjustnu(bookid, callback) {\n    let usrid = _appconfig.userinfo.userid;\n\n    let curuserid = _hanteraUserid(usrid);\n\n    let url = _appconfig.api.lasernu(curuserid, bookid);\n\n    _apiObj.UpdgetJson(url, function (data) {\n      callback();\n      console.log(\'laser just nu uppdaterad!\');\n    });\n  }\n\n  function init(catid, userid, callback) {\n    userid = _hanteraUserid(userid);\n    _appconfig.userinfo.userid = userid; //debug lägg i appsettings.js\n\n    let url = _appconfig.api.boklistor.boklistbyCatID(catid, userid);\n\n    render(url, function () {\n      callback();\n    });\n  } // Privata funktioner helper\n\n\n  function _hanteraUserid(userid) {\n    if (userid <= 0) {\n      userid = 0;\n    }\n\n    return userid;\n  }\n\n  return {\n    fritextSearch: fritextSearch,\n    init: init,\n    catSearch: catSearch,\n    amnSearch: amnSearch,\n    autocomplete: autocomplete,\n    laserjustnu: laserjustnu,\n    alfvalue: \'This is an simple value from hello test!\'\n  };\n};\n\n/* harmony default export */ __webpack_exports__["a"] = (BooklistObj);\n\n//# sourceURL=webpack:///./assets/js/components/booklisthandler.js?');
    },
    "./assets/js/components/querystringHandler.js": function(module, __webpack_exports__, __webpack_require__) {
        "use strict";
        eval("/* harmony import */ var _eventhandlers_controlDisplayHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../eventhandlers/controlDisplayHandler */ \"./assets/js/eventhandlers/controlDisplayHandler.js\");\n //////// History handler\n//// ta hand om querystring parametrar och lagra dom i ett jsonobject urlparam.\n\nconst queryHandler = () => {\n  let displayobj = Object(_eventhandlers_controlDisplayHandler__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])();\n\n  function checkparamsinurl(urlParams) {\n    let match,\n        pl = /\\+/g,\n        // Regex for replacing addition symbol with a space\n    search = /([^&=]+)=?([^&]*)/g,\n        decode = function decode(s) {\n      return decodeURIComponent(s.replace(pl, ' '));\n    },\n        query = window.location.search.substring(1);\n\n    while (match = search.exec(query)) urlParams[decode(match[1])] = decode(match[2]);\n\n    if (!urlParams.tab) {\n      let sPageURL = window.location.href.split('/');\n      let index = sPageURL.indexOf('tabid');\n\n      if (index > 0) {\n        urlParams.tabid = sPageURL[index + 1];\n      }\n\n      index = sPageURL.indexOf('srh');\n\n      if (index > 0) {\n        urlParams.srh = sPageURL[index + 1];\n      }\n\n      index = sPageURL.indexOf('shtyp');\n\n      if (index > 0) {\n        urlParams.shtyp = sPageURL[index + 1];\n      }\n\n      index = sPageURL.indexOf('id');\n\n      if (index > 0) {\n        urlParams.id = sPageURL[index + 1];\n      }\n    }\n\n    return urlParams;\n  }\n\n  function chkpage(urlParams) {\n    // tabid 2365 detaljvy http://localdev.kivdev.se/katalog_4_2/katalogenv5_detail/tabid/2365/Default.aspx?id=2\n    // tabid 2361 listvy\n    return displayobj.checkToDisplay(urlParams);\n  }\n\n  return {\n    checkparamsinurl: checkparamsinurl,\n    checkpage: chkpage\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (queryHandler);\n\n//# sourceURL=webpack:///./assets/js/components/querystringHandler.js?");
    },
    "./assets/js/components/storagehandler.js": function(module, __webpack_exports__, __webpack_require__) {
        "use strict";
        eval("const storagehandler = () => {\n  let _storage = Storages.localStorage; //console.log('storage: ' + _storage);\n\n  let _session = Storages.sessionStorage; // LOCALSTORAGE\n  // används för att rätt listningar skall visas om användaren öppnar sidan för förstagången = alla arr annars senaste sökningen och\n  // om användaren går till detalj skall senaste sökningen visas.\n\n  function SetSession() {\n    _session.set('session', 'true');\n\n    console.log('session true');\n  }\n\n  function chkIfsessionActive() {\n    let sess = _session.get('session');\n\n    if (sess) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  function isCurrentdataSet() {\n    let tmpdata = _storage.get('currentdata');\n\n    if (tmpdata) {\n      console.log('currentdata =  true DATA Finns i localstorage');\n      return true;\n    }\n\n    console.log('currentdata = false Det finns ingen data');\n    return false;\n  }\n\n  function addDataToStorageHandler(stdata) {\n    if (stdata) {\n      // _storage.removeAll();\n      console.log('ADD currentdata to storage: ' + stdata);\n\n      _storage.remove('currentdata');\n\n      _storage.set('currentdata', stdata);\n    }\n\n    return stdata;\n  }\n\n  function getDataFromStorageHandler() {\n    let stdata;\n\n    if (isCurrentdataSet()) {\n      stdata = _storage.get('currentdata');\n      console.log('GET currentdata from storage: ' + stdata);\n    }\n\n    return stdata;\n  }\n\n  function resetStorage() {\n    _storage.remove('currentdata');\n\n    _storage.remove('my-page-storage');\n  }\n\n  return {\n    checkStorageData: isCurrentdataSet,\n    addDataToStorage: addDataToStorageHandler,\n    getDataFromStorage: getDataFromStorageHandler,\n    setSession: SetSession,\n    chkifSession: chkIfsessionActive,\n    resetstorage: resetStorage\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (storagehandler);\n\n//# sourceURL=webpack:///./assets/js/components/storagehandler.js?");
    },
    "./assets/js/detailhandlers/detailEventHandlers.js": function(module, __webpack_exports__, __webpack_require__) {
        "use strict";
        eval("const detailHandler = () => {\n  function bindDOM() {}\n\n  function init(id, userid) {\n    console.log('hämta details via id:' + id);\n  }\n\n  return {\n    init: init\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (detailHandler);\n\n//# sourceURL=webpack:///./assets/js/detailhandlers/detailEventHandlers.js?");
    },
    "./assets/js/eventhandlers/booklistEventhandler.js": function(module, __webpack_exports__, __webpack_require__) {
        "use strict";
        eval("/* harmony import */ var _components_booklisthandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/booklisthandler */ \"./assets/js/components/booklisthandler.js\");\n/* harmony import */ var _components_autocompleteHandler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/autocompleteHandler */ \"./assets/js/components/autocompleteHandler.js\");\n/* harmony import */ var _eventhandlers_controlDisplayHandler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../eventhandlers/controlDisplayHandler */ \"./assets/js/eventhandlers/controlDisplayHandler.js\");\n\n\n\n\nconst boklistEventHandler = () => {\n  let $catnav, $mainboklistcontainer, $spinner, $aj_katalog_groupId, $aj_bb_pagination, $aj_bb_searchbox, $pagerstyle, $aj_bb_filterbtn, $aj_bb_filterblock, $aj_bb_Nofilterblock, $bb_aj_spinnerHeader, $bb_aj_searchbtn, $bb_aj_spinnerHeaderWorks;\n  let urlParams = {\n    shtyp: '0'\n  };\n  let blobj = Object(_components_booklisthandler__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])();\n  let autoObj = Object(_components_autocompleteHandler__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])();\n  let displayobj = Object(_eventhandlers_controlDisplayHandler__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])();\n\n  function bindDom() {\n    $mainboklistcontainer = $('#mainboklistcontainer');\n    $spinner = $('.bb_aj_spinner');\n    $catnav = $('.catNav');\n    $aj_katalog_groupId = $('#aj_katalog_groupId');\n    $aj_bb_pagination = $('#aj_bb_pagination');\n    $aj_bb_searchbox = $('#aj_bb_searchbox');\n    $aj_bb_filterbtn = $('#aj_bb_filterbtn');\n    $aj_bb_filterblock = $('#aj_bb_filterblock');\n    $aj_bb_Nofilterblock = $('#aj_bb_Nofilterblock');\n    $bb_aj_spinnerHeader = $('.bb_aj_spinnerHeader');\n    $bb_aj_spinnerHeaderWorks = $('.bb_aj_spinnerHeaderWorks');\n    $bb_aj_searchbtn = document.getElementById('aj_bb_searchbtn');\n    autoObj.initAuto();\n    $pagerstyle = $('.pagination');\n  }\n\n  function BoklistEvent(userid) {\n    document.getElementById('aj_bb_searchbox').addEventListener('keyup', function (event) {\n      event.preventDefault();\n\n      if (event.keyCode === 13) {\n        $bb_aj_searchbtn.click();\n        $bb_aj_searchbtn.focus();\n      }\n    });\n    $mainboklistcontainer.on('click', '.catNav', function (e) {\n      let catid = $(this).attr('data-catid');\n      console.log('catid= ' + catid);\n      spinnerobj(true);\n      urlParams.shtyp = catid;\n      displayobj.checkToDisplay(urlParams);\n      window.history.pushState('', 'titletest', '?shtyp=cat&srh=' + catid);\n      $pagerstyle.html('');\n\n      if (catid != 0) {\n        jplistReset();\n        blobj.catSearch(catid, userid, function (data) {\n          //alert('funkar');\n          jplistInitHandler();\n          spinnerobj(false);\n        });\n      }\n\n      return false;\n    });\n    $mainboklistcontainer.on('click', '.amnNav', function (e) {\n      let amnid = $(this).attr('data-amnid');\n      spinnerobj(true);\n      urlParams.shtyp = amnid;\n      displayobj.checkToDisplay(urlParams);\n      $pagerstyle.html('');\n      jplistReset();\n      blobj.amnSearch(amnid, userid, function (data) {\n        //alert('funkar');\n        jplistInitHandler();\n        spinnerobj(false);\n      });\n      return false;\n    });\n    $mainboklistcontainer.on('click', '#aj_bb_searchbtn', function (e) {\n      let searchstr = $aj_bb_searchbox.val();\n      spinnerobj(true);\n      urlParams.shtyp = 'freeserch';\n      displayobj.checkToDisplay(urlParams);\n      $pagerstyle.html('');\n      jplistReset();\n      blobj.fritextSearch(searchstr, userid, function (data) {\n        //alert('funkar');\n        jplistInitHandler();\n        spinnerobj(false);\n      });\n      return false;\n    });\n    $mainboklistcontainer.on('click', '#aj_bb_filterbtn', function (e) {\n      let showfilter = $aj_bb_filterbtn.attr('data-visning');\n\n      if (showfilter === 'no') {\n        $aj_bb_filterblock.show();\n        $aj_bb_Nofilterblock.removeClass('col-md-12').addClass('col-md-9');\n        $aj_bb_filterbtn.attr('data-visning', 'ja');\n      } else {\n        $aj_bb_filterblock.hide();\n        $aj_bb_Nofilterblock.removeClass('col-md-9').addClass('col-md-12');\n        $aj_bb_filterbtn.attr('data-visning', 'no');\n      }\n\n      return false;\n    }); // $mainboklistcontainer.on('click', '#aj_bb_btnStart', function(e) {\n    // \treturn false;\n    // });\n\n    $mainboklistcontainer.on('click', '.booklistHandler', function (e) {\n      let $curBlObj = $(this);\n      let $curblchkIcon = $curBlObj.find('div');\n      let curbl = $(this).attr('data-boklistid');\n      let bookid = $(this).parent().attr('data-currbookid'); /// lägg till och tabort icon\n\n      if ($curblchkIcon.hasClass('hidedrpchkimg')) {\n        // avbocka vald boklista i Boklistningen\n        $curblchkIcon.removeClass('hidedrpchkimg');\n      } else {\n        $curblchkIcon.addClass('hidedrpchkimg');\n      } // drpd_booklistChecker($curBlObj);\n      /// kolla om yttre ikon skall ändras\n\n\n      let $bookitemcontainer = $curBlObj.parent().parent();\n      let Totalantalbooklists = $(this).parent().find('.booklistHandler');\n      let Antalcheckedboklists = $bookitemcontainer.find('.hidedrpchkimg');\n      let valdbtn = $bookitemcontainer.find('button');\n\n      if (Totalantalbooklists.length == Antalcheckedboklists.length) {\n        // avbocka boklistan\n        valdbtn.addClass('btn-light').removeClass('btn-success');\n        valdbtn.find('i').removeClass('fa-check').addClass('fa-ellipsis-v');\n      } else {\n        valdbtn.addClass('btn-success').removeClass('btn-light');\n        valdbtn.find('i').removeClass('fa-ellipsis-v').addClass('fa-check');\n      }\n\n      return false;\n    });\n    $mainboklistcontainer.on('click', '.aj_bb_readsnow', function (e) {\n      let bookid = $(this).attr('data-currbookid');\n      blobj.laserjustnu(bookid, function () {\n        alert('läser just nu');\n      });\n    });\n  }\n\n  function jplistInitHandler() {\n    $mainboklistcontainer.jplist({\n      command: 'empty'\n    });\n    $mainboklistcontainer.jplist({\n      itemsBox: ' #aj_katalog_groupId',\n      itemPath: '.aj_jplist_item',\n      panelPath: '.jplist-panel',\n      storage: 'localstorage',\n      storageName: 'my-page-storage',\n      animateToTop: '#aj_bb_katalogenMainListBlock'\n    });\n  }\n\n  function jplistReset() {\n    // $aj_bb_searchbox.val('');\n    $mainboklistcontainer.jplist({\n      command: 'empty'\n    });\n  }\n\n  function init(userid, callback) {\n    bindDom();\n\n    if (userid <= 0) {\n      $('.align-self-start').hide();\n    } else {\n      $('.align-self-start').show();\n    }\n\n    BoklistEvent(userid);\n    spinnerobj(true);\n    blobj.init('6', userid, function (data) {\n      $pagerstyle.html('');\n      jplistInitHandler();\n      spinnerobj(false);\n      callback();\n    });\n  } /// HELPER functions---------------\n\n\n  function spinnerobj(visa) {\n    if (visa) {\n      $spinner.show();\n      $bb_aj_spinnerHeader.hide();\n      $bb_aj_spinnerHeaderWorks.show();\n      $aj_katalog_groupId.hide();\n      $aj_bb_pagination.hide();\n    } else {\n      $spinner.hide();\n      $bb_aj_spinnerHeader.show();\n      $bb_aj_spinnerHeaderWorks.hide();\n      $aj_katalog_groupId.show();\n      $aj_bb_pagination.show();\n    }\n  }\n\n  return {\n    init: init\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (boklistEventHandler);\n\n//# sourceURL=webpack:///./assets/js/eventhandlers/booklistEventhandler.js?");
    },
    "./assets/js/eventhandlers/controlDisplayHandler.js": function(module, __webpack_exports__, __webpack_require__) {
        "use strict";
        eval("const displayHandler = () => {\n  let $fullwidthcontainer, $katalogenMainListBlock, $aj_bb_btnCat;\n  let urlParams = {\n    shtyp: '0'\n  };\n\n  function bindDom() {\n    $fullwidthcontainer = $('.bb_aj_krypincontainer');\n    $katalogenMainListBlock = $('#aj_bb_katalogenMainListBlock');\n    $aj_bb_btnCat = $('.btn-category');\n  }\n\n  function displaypage(urlParams) {\n    // tabid 2365 detaljvy http://localdev.kivdev.se/katalog_4_2/katalogenv5_detail/tabid/2365/Default.aspx?id=2\n    // tabid 2361 listvy\n    bindDom();\n    let retobj = false;\n\n    switch (urlParams.tabid) {\n      case '2365':\n        //detaljvyn\n        console.log('visa Detaljsidan');\n        retobj = true;\n        break;\n\n      default:\n        listvyhandler(urlParams);\n    }\n\n    return retobj;\n  }\n\n  function listvyhandler(urlParams) {\n    if (!urlParams.shtyp) {\n      urlParams.shtyp = '0';\n    }\n\n    if (urlParams.shtyp != '0') {\n      console.log('visa listning');\n      $fullwidthcontainer.hide();\n      $katalogenMainListBlock.show();\n    } else {\n      console.log('visa startsidan');\n      $fullwidthcontainer.show();\n      $katalogenMainListBlock.hide();\n    }\n\n    return false;\n  }\n\n  return {\n    checkToDisplay: displaypage\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (displayHandler);\n\n//# sourceURL=webpack:///./assets/js/eventhandlers/controlDisplayHandler.js?");
    },
    "./assets/js/handlebar/booklistdpr.js": function(module, exports, __webpack_require__) {
        eval('/* WEBPACK VAR INJECTION */(function(_) {module.exports = function (userbooklistobj, bookid) {\n  if (_.isEmpty(userbooklistobj)) {\n    return \'\';\n  } else {\n    return booklistHandler.dropdownhtml(userbooklistobj, bookid);\n  }\n};\n\nlet booklistHandler = function () {\n  function isBookInList(tmpbooklist, bookid) {\n    let ret = false;\n\n    for (const itm of Object.keys(tmpbooklist)) {\n      if (tmpbooklist[itm].Bookid == bookid) {\n        ret = true;\n      }\n    }\n\n    return ret;\n  }\n\n  function dropdownhtml(userbooklistobj, bookid) {\n    let visa = false;\n    let retstrTop = \'<div class="align-self-start">\';\n    retstrTop += \'<div class="dropdown dropleft">\'; //ikoner här\n\n    let retstrlinks = \'<div class="dropdown-menu" aria-labelledby="dropdownMenuButton" data-currbookid="\' + bookid + \'" >\';\n    retstrlinks += \'<a class="dropdown-item" href="/Krypin/bk_aj_boktips_Krypin/tabid/1431/Default.aspx?bookid=\' + bookid + \'">Skriv boktips</a>\';\n    retstrlinks += \'<a class="dropdown-item aj_bb_readsnow" data-currbookid="\' + bookid + \'"href="#">L&auml;ser denna just nu</a>\';\n    retstrlinks += \'<div class="addtobooklistHeader"><b>Mina boklistor</b></div>\';\n    let retstrBooklist = \'\';\n\n    if (userbooklistobj) {\n      for (const key of Object.keys(userbooklistobj)) {\n        // console.log(\'Lista \' + key, userbooklistobj[key]);\n        let tmpbooklist = userbooklistobj[key].BooklistItems;\n        retstrBooklist += \'<a class="dropdown-item booklistHandler" data-boklistid="\' + userbooklistobj[key].BlID + \'" href="#">\';\n\n        if (booklistHandler.isBookInList(tmpbooklist, bookid)) {\n          // console.log(\'Bok i listan: \' + key);\n          retstrBooklist += \'<div class="btn btn-success btn-circle-drp"><i class="fas fa-check"></i></div>\';\n          visa = true;\n        } else {\n          retstrBooklist += \'<div class="btn btn-success btn-circle-drp hidedrpchkimg" ><i class="fas fa-check"></i></div>\';\n        }\n\n        retstrBooklist += userbooklistobj[key].Booklistname + \'</a>\';\n      }\n    }\n\n    let retstrbtnIkon = \'\'; //visa länk med markering om bok finns i listan\n\n    if (visa == true) {\n      retstrbtnIkon = \'<button class="btn btn-success btn-circle" type="button" id="dropdownMenuButton" data-toggle="dropdown" title="Finns i min boklista" aria-haspopup="true" aria-expanded="false">\';\n      retstrbtnIkon += \'<i class="fas fa-check"></i></button>\';\n    } else {\n      retstrbtnIkon = \'<button class="btn btn-light btn-circle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\';\n      retstrbtnIkon += \'<i class="fas fa-ellipsis-v"></i></button>\';\n    }\n\n    let retstrEnd = \'</div></div></div>\';\n    let retstr = retstrTop + retstrbtnIkon + retstrlinks + retstrBooklist + retstrEnd;\n    return retstr;\n  }\n\n  return {\n    isBookInList: isBookInList,\n    dropdownhtml: dropdownhtml\n  };\n}();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js")))\n\n//# sourceURL=webpack:///./assets/js/handlebar/booklistdpr.js?');
    },
    "./assets/js/main.js": function(module, __webpack_exports__, __webpack_require__) {
        "use strict";
        eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _eventhandlers_booklistEventhandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./eventhandlers/booklistEventhandler */ "./assets/js/eventhandlers/booklistEventhandler.js");\n/* harmony import */ var _detailhandlers_detailEventHandlers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./detailhandlers/detailEventHandlers */ "./assets/js/detailhandlers/detailEventHandlers.js");\n/* harmony import */ var _components_querystringHandler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/querystringHandler */ "./assets/js/components/querystringHandler.js");\n\n\n\nlet blEvent = Object(_eventhandlers_booklistEventhandler__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"])();\nlet detailObj = Object(_detailhandlers_detailEventHandlers__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"])();\nlet qHandler = Object(_components_querystringHandler__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"])();\n$(function () {\n  let _userid = $(\'#barnensbiblCurrentUserid\').html(); // hämta från querystring\n\n\n  let urlParams = {};\n  urlParams = qHandler.checkparamsinurl(urlParams);\n  console.log(\'urlParams.id: \' + urlParams.id);\n\n  if (qHandler.checkpage(urlParams)) {\n    console.log(\'detaljvy\');\n    detailObj.init(urlParams.id, _userid);\n  } else {\n    blEvent.init(_userid, function () {});\n    console.log(\'listvy\');\n  }\n});\n\n//# sourceURL=webpack:///./assets/js/main.js?');
    },
    "./assets/js/service/apiServiceHandler.js": function(module, __webpack_exports__, __webpack_require__) {
        "use strict";
        eval("/* harmony import */ var _components_storagehandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/storagehandler */ \"./assets/js/components/storagehandler.js\");\n\n\nconst apiServiceHandler = () => {\n  let storeObj = Object(_components_storagehandler__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])();\n\n  function GetJsonData(url, callback) {\n    if (!url) {\n      return false;\n    } else {\n      fetch(url).then(resp => resp.json()) // Transform the data into json\n      .then(function (data) {\n        //storeObj.addDataToStorage(data);\n        callback(data);\n      }).catch(function () {\n        console.log('error i Fetch: ' + url);\n      });\n    }\n  }\n\n  function PostJsonData(url, postdata, callback) {\n    if (!url) {\n      return false;\n    } else {\n      //console.log(\"Searchservicen hämtar Arrangemangdata\");\n      $.ajax({\n        async: true,\n        type: 'post',\n        url: url,\n        data: postdata,\n        success: function success(data) {\n          console.log('Hämtar Data: '); //storeObj.addDataToStorage(data);\n\n          callback(data);\n        },\n        error: function error(xhr, ajaxOptions, thrownError) {\n          alert('Nått blev fel vid hämtning av POST json!');\n        }\n      });\n    }\n  }\n\n  function GetJsonDataFromStorage(url, callback) {\n    if (!storeObj.chkifSession()) {\n      GetJsonData(url, function (data) {\n        storeObj.addDataToStorage(data);\n        storeObj.setSession();\n        callback(data);\n      });\n    } else {\n      let currdata = storeObj.getDataFromStorage();\n\n      if (currdata) {\n        callback(currdata);\n      } else {\n        GetJsonData(url, function (data) {\n          storeObj.addDataToStorage(data);\n          callback(data);\n        });\n        console.log('hämta ny data');\n      }\n    }\n  }\n\n  function GetJsonPostDataFromStorage(url, postdata, callback) {\n    if (!storeObj.chkifSession()) {\n      PostJsonData(url, postdata, function (data) {\n        storeObj.addDataToStorage(data);\n        storeObj.setSession();\n        callback(data);\n      });\n    } else {\n      let currdata = storeObj.getDataFromStorage();\n\n      if (currdata) {\n        callback(currdata);\n      } else {\n        PostJsonData(url, postdata, function (data) {\n          storeObj.addDataToStorage(data);\n          callback(data);\n        });\n        console.log('hämta ny Postdata');\n      }\n    }\n  }\n\n  function updateGetJson(url, callback) {\n    GetJsonData(url, function (data) {\n      callback(data);\n    });\n  }\n\n  function GetJsonDataAutocomplete(url, callback) {\n    GetJsonData(url, function (data) {\n      storeObj.addDataToStorage(data);\n      storeObj.setSession();\n      callback(data);\n    });\n  }\n\n  return {\n    Getjson: GetJsonDataFromStorage,\n    GetjsonAuto: GetJsonDataAutocomplete,\n    UpdgetJson: updateGetJson,\n    Postjson: GetJsonPostDataFromStorage\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (apiServiceHandler);\n\n//# sourceURL=webpack:///./assets/js/service/apiServiceHandler.js?");
    },
    "./htmlTemplate/tpl_bookListItem.hbs": function(module, exports, __webpack_require__) {
        eval('var Handlebars = __webpack_require__(/*! ../node_modules/handlebars/runtime.js */ "./node_modules/handlebars/runtime.js");\nfunction __default(obj) { return obj && (obj.__esModule ? obj["default"] : obj); }\nmodule.exports = (Handlebars["default"] || Handlebars).template({"1":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return "\\r\\n<div class=\\"col d-flex align-items-top p-4 batuu-background-row-item col-md-3 aj_jplist_item\\" >\\r\\n    <a href=\\"/katalog_4_2/tabid/2365/Default.aspx?id="\n    + alias2(alias1((depth0 != null ? depth0.Bookid : depth0), depth0))\n    + "\\">\\r\\n        <div class=\\"text-center aj_bb_year"\n    + alias2(alias1((depth0 != null ? depth0.Published : depth0), depth0))\n    + " aj_bb_easy_"\n    + alias2(alias1((depth0 != null ? depth0.Easyread : depth0), depth0))\n    + "\\">\\r\\n            <span class=\\""\n    + ((stack1 = helpers.each.call(alias3,(depth0 != null ? depth0.Categories : depth0),{"name":"each","hash":{},"fn":container.program(2, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "\\"></span>\\r\\n            <img src=\\""\n    + alias2(alias1((depth0 != null ? depth0.BokomslagURL : depth0), depth0))\n    + "\\" alt=\\""\n    + alias2(alias1((depth0 != null ? depth0.title : depth0), depth0))\n    + "\\" class=\\"img-thumbnail\\">\\r\\n            <p class=\\"font-weight-bold my-1 book-title\\">"\n    + alias2(alias1((depth0 != null ? depth0.title : depth0), depth0))\n    + "</p>\\r\\n            <p class=\\"font-weight-light my-0 author\\">"\n    + ((stack1 = helpers.each.call(alias3,(depth0 != null ? depth0.Forfattare : depth0),{"name":"each","hash":{},"fn":container.program(4, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "</p>\\r\\n        </div>\\r\\n    </a>    \\r\\n      \\r\\n    "\n    + ((stack1 = __default(__webpack_require__(/*! ../assets/js/handlebar/booklistdpr.js */ "./assets/js/handlebar/booklistdpr.js")).call(alias3,((stack1 = (data && data.root)) && stack1.Userbooklist),(depth0 != null ? depth0.Bookid : depth0),{"name":"booklistdpr","hash":{},"fn":container.program(6, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "\\r\\n   \\r\\n</div>\\r\\n\\r\\n";\n},"2":function(container,depth0,helpers,partials,data) {\n    return "aj_bb_cat_"\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.CategoryID : depth0), depth0))\n    + " ";\n},"4":function(container,depth0,helpers,partials,data) {\n    return " "\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.namn : depth0), depth0))\n    + " ";\n},"6":function(container,depth0,helpers,partials,data) {\n    return " ";\n},"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return "\x3c!-- Loop start --\x3e\\r\\n"\n    + ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.Bookitems : depth0),{"name":"each","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")\n    + "\\r\\n";\n},"useData":true});\n\n//# sourceURL=webpack:///./htmlTemplate/tpl_bookListItem.hbs?');
    }
});